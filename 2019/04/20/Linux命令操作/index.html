<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"shenhaizhu.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":5,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="1. pwd 查看当前光标所在的目录显示从根目录&#x2F;开始 绝对路径例如： 12[root@haizhu modules]# pwd&#x2F;opt&#x2F;modules">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux命令操作">
<meta property="og:url" content="https://shenhaizhu.github.io/2019/04/20/Linux%E5%91%BD%E4%BB%A4%E6%93%8D%E4%BD%9C/index.html">
<meta property="og:site_name" content="风雨兼程の博客">
<meta property="og:description" content="1. pwd 查看当前光标所在的目录显示从根目录&#x2F;开始 绝对路径例如： 12[root@haizhu modules]# pwd&#x2F;opt&#x2F;modules">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2019-04-20T13:32:14.000Z">
<meta property="article:modified_time" content="2022-04-29T05:10:13.590Z">
<meta property="article:author" content="海珠">
<meta property="article:tag" content="大数据">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://shenhaizhu.github.io/2019/04/20/Linux%E5%91%BD%E4%BB%A4%E6%93%8D%E4%BD%9C/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Linux命令操作 | 风雨兼程の博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">风雨兼程の博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">记录学习的点点滴滴</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/shenhaizhu/shenhaizhu.github.io" class="github-corner" title="Hai GitHub" aria-label="Hai GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://shenhaizhu.github.io/2019/04/20/Linux%E5%91%BD%E4%BB%A4%E6%93%8D%E4%BD%9C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/Wechat.jpeg">
      <meta itemprop="name" content="海珠">
      <meta itemprop="description" content="主要编程语言为 Java、SCala、Python、Sql，领域涵盖大数据、云计算、数据库">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风雨兼程の博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Linux命令操作
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-04-20 21:32:14" itemprop="dateCreated datePublished" datetime="2019-04-20T21:32:14+08:00">2019-04-20</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>17k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>15 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h4 id="1-pwd-查看当前光标所在的目录"><a href="#1-pwd-查看当前光标所在的目录" class="headerlink" title="1. pwd 查看当前光标所在的目录"></a>1. pwd 查看当前光标所在的目录</h4><p>显示从根目录/开始 <strong>绝对路径</strong><br>例如：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@haizhu modules]# pwd</span><br><span class="line">/opt/modules</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h4 id="2-用户"><a href="#2-用户" class="headerlink" title="2. 用户"></a>2. 用户</h4><ul>
<li><code>root</code>   超级管理员  123456(密码)  <code>家目录是  /root</code></li>
<li><code>haizhu</code> 普通用户  界面创建   <code>家目录是 /home/haizhu</code></li>
</ul>
<p>默认系统是这样 除非指定用户的家目录为其他目录</p>
<p><strong>Linux系统的目录是从根目录开始</strong> <code>/</code></p>
<h4 id="3-ls查看"><a href="#3-ls查看" class="headerlink" title="3. ls查看"></a>3. ls查看</h4><ul>
<li><p><code>ls</code> 只显示该目录下的文件或文件夹的名称</p>
</li>
<li><p><code>ls -l</code>显示该目录下的文件或文件夹的明细信息 </p>
</li>
<li><p><code>ls -l &lt;==&gt; ll</code> 2个命令是等价的</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@haizhu modules]# ls -l /home</span><br><span class="line">total 8</span><br><span class="line">drwx------ 3 lighthouse lighthouse 4096 Apr  8 14:10 lighthouse</span><br><span class="line">drwx------ 2 shen       shen       4096 Apr  8 15:35 shen</span><br><span class="line">权限          用户       用户组             时间        名称</span><br></pre></td></tr></table></figure></li>
<li><p><code>ll -h</code> 查看文件的大小</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@haizhu flink]# ll -h /opt/modules/hadoop-2.6.0/</span><br><span class="line">total 60K</span><br><span class="line">drwxr-xr-x 2 20000 20000 4.0K Nov 14  2014 bin  (4.0K 表示bin文件大小）</span><br><span class="line">...</span><br></pre></td></tr></table></figure></li>
<li><p><code>du -sh</code>  文件夹或文件大小</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">文件夹</span><br><span class="line">[root@haizhu flink]# du -sh /opt/modules/hadoop-2.6.0/</span><br><span class="line">320M    /opt/modules/hadoop-2.6.0/ (320M 表示hadoop-2.6.0文件夹大小)</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">文件</span><br><span class="line">[root@haizhu flink]# du -sh  README.txt </span><br><span class="line">4.0K    README.txt</span><br></pre></td></tr></table></figure></li>
<li><p><code>ll -rt</code> 想要找出最新的文件或文件夹 按照时间升序排列</p>
</li>
<li><p><code>ll -a</code> 查看隐藏文件夹或文件  <strong>隐藏是以.开始</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@haizhu flink]# ll -a</span><br><span class="line">total 608</span><br><span class="line">drwxr-xr-x 10  502 games   4096 Jan 10  2021 .</span><br><span class="line">drwxr-xr-x 11 root root    4096 Apr 22 11:41 ..</span><br><span class="line">drwxr-xr-x  2  502 games   4096 Apr 22 11:40 bin</span><br><span class="line">drwxr-xr-x  2  502 games   4096 Apr 22 12:45 conf</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h4 id="4-cd切换目录"><a href="#4-cd切换目录" class="headerlink" title="4. cd切换目录"></a>4. cd切换目录</h4><h5 id="cd-home-切换到-home目录"><a href="#cd-home-切换到-home目录" class="headerlink" title="cd /home : 切换到 /home目录"></a><code>cd /home</code> : 切换到 <code>/home</code>目录</h5></li>
<li><p><code>cd</code> 和 <code>cd ~</code>  2种切家目录  <strong>~是家目录标识</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@haizhu modules]# cd </span><br><span class="line">[root@haizhu ~]# pwd</span><br><span class="line">/root</span><br><span class="line">[root@haizhu ~]# cd ~</span><br><span class="line">[root@haizhu ~]# pwd</span><br><span class="line">/root</span><br><span class="line">[root@haizhu ~]#</span><br></pre></td></tr></table></figure></li>
<li><p><code>cd /root</code> 用户的家目录的绝对路径</p>
</li>
<li><p><code>cd -</code>   回到上一次目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@haizhu opt]# cd /usr/</span><br><span class="line">[root@haizhu usr]# cd /opt/modules/</span><br><span class="line">[root@haizhu modules]# cd -</span><br><span class="line">/usr</span><br><span class="line">[root@haizhu usr]#</span><br></pre></td></tr></table></figure></li>
<li><p><code>cd ../</code>  回退上一层目录</p>
</li>
<li><p><code>cd ../../</code> 回退2个目录</p>
<h4 id="5-路径"><a href="#5-路径" class="headerlink" title="5. 路径"></a>5. 路径</h4></li>
<li><p>绝对路径 <code>/</code>根目录开始</p>
</li>
<li><p>相对路径 不以<code>/</code>开始</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">root@hadoop001 ~]# ls</span><br><span class="line">anaconda-ks.cfg  Downloads           Music     Templates</span><br><span class="line">Desktop          install.log         Pictures  Videos</span><br><span class="line">Documents        install.log.syslog  Public</span><br><span class="line">[root@hadoop001 ~]# cd Desktop/   相对</span><br><span class="line">[root@hadoop001 Desktop]# </span><br><span class="line"></span><br><span class="line">[root@hadoop001 ~]# cd /root/Desktop/ 绝对</span><br><span class="line">[root@hadoop001 Desktop]#</span><br></pre></td></tr></table></figure>
<h4 id="6-clear-清空屏幕"><a href="#6-clear-清空屏幕" class="headerlink" title="6.clear 清空屏幕"></a>6.clear 清空屏幕</h4><h4 id="7-创建文件夹"><a href="#7-创建文件夹" class="headerlink" title="7. 创建文件夹"></a>7. 创建文件夹</h4></li>
<li><p><code>mkdir data</code> 只能创建1个</p>
</li>
<li><p><code>mkdir -p data/1/2</code> 级联创建文件夹 <strong>串行</strong></p>
</li>
<li><p><code>mkdir 4 5 6</code> 创建4,5,6 3个<strong>并行</strong>文件夹</p>
</li>
</ul>
<h4 id="8-创建文件"><a href="#8-创建文件" class="headerlink" title="8.创建文件"></a>8.创建文件</h4><ul>
<li><code>touch data.log</code> 创建空文件</li>
<li><code>vi haizhu.log</code> 创建文件 </li>
</ul>
<h4 id="9-cp拷贝"><a href="#9-cp拷贝" class="headerlink" title="9. cp拷贝"></a>9. cp拷贝</h4><p><strong>2份 原有的还在</strong><br>1）文件拷贝<br><code>cp hai.log data/</code> 把<code>hai.log</code>文件拷贝到 <code>data/</code> 文件夹<br>2）文件夹拷贝<br><code>cp -r 7 6/</code> 文件夹拷贝 需要-r参数</p>
<h5 id="10-mv移动"><a href="#10-mv移动" class="headerlink" title="10. mv移动"></a>10. mv移动</h5><p><strong>1份 原有的到新位置</strong><br><code>mv data.log 6</code>               移动文件到新的地方 名称不变<br><code>mv data.log  6/data123.log</code>   移动文件到新的地方 名称变<br><code>mv 8 6</code> 移动文件夹</p>
<h4 id="11-命令帮助"><a href="#11-命令帮助" class="headerlink" title="11. 命令帮助"></a>11. 命令帮助</h4><p>1） <code>--help</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@haizhu flink]# ls --help</span><br><span class="line">Usage: ls [OPTION]... [FILE]...</span><br></pre></td></tr></table></figure>
<p>[]代表可以省略</p>
<h4 id="12-查看文件内容-log定位"><a href="#12-查看文件内容-log定位" class="headerlink" title="12. 查看文件内容 log定位"></a>12. 查看文件内容 log定位</h4><p>1）离线查看 </p>
<ul>
<li><code>cat</code> 文件内容一下子<strong>全部显示</strong>  适用<strong>字节内容较少</strong></li>
<li><code>more</code>文件内容<strong>一页一页</strong>的往下翻,按空格键往下 回退不了 按q退出   适用<strong>字节内容稍多的</strong> </li>
<li><code>less</code> 文件内容<strong>一行行</strong> 按箭头上下  按q退出</li>
</ul>
<p><em>查看内容多的文件ERROR经验方法</em></p>
<ul>
<li>假如文件超大 10M内<br>  <code>发送给电脑，通过sublime等工具全局搜索</code></li>
<li>假如文件100M+<br><code>cat install.log | grep -C 10 &quot;ERROR&quot;</code><br>表示：<code>install.log</code>文件中ERROR关键字上下文共20行</li>
<li>假如ERROR筛选的结果很多（比如10个ERROR以上）<br><code>cat install.log | grep -C 10 &quot;ERROR&quot; &gt; error.log</code><br>表示：<code>install.log</code>文件中ERROR关键字上下文共20行输出到<code>error.log</code>文件</li>
<li>注意：*<br><code>|</code> 管道符（衔接符）<br><code>grep</code> 过滤<br><code>grep -C 10</code> 上下文共20行<br><code>&gt;</code> 重定向输出到文件 <strong>覆盖</strong><br><code>&gt;&gt;</code> <strong>追加</strong></li>
</ul>
<p>2）实时查看 <code>tail</code><br><code>tail -f tail1.log</code><br><code>tail -F tail2.log</code></p>
<p>-F=-f+retry</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 ~]# echo "123" &gt;&gt; tail1.log  (把123追加到tail1.log文件）</span><br><span class="line">[root@hadoop001 ~]# echo "123" &gt;&gt; tail2.log </span><br><span class="line">[root@hadoop001 ~]# echo "123" （echo打印的意思）</span><br><span class="line">123</span><br><span class="line">[root@hadoop001 ~]# echo "4" &gt;&gt; tail1.log </span><br><span class="line">[root@hadoop001 ~]# echo "4" &gt;&gt; tail2.log</span><br></pre></td></tr></table></figure>
<p><strong>案例</strong><br>生产上 xxxx.log 100m 保留10份<br>xxxx.log<br>xxxx.log1<br>xxxx.log2<br>….<br>xxxx.log9<br>xxxx.log10</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">mv tail1.log tail1.log1 </span><br><span class="line">touch tail1.log</span><br><span class="line"></span><br><span class="line">mv tail2.log tail2.log1 </span><br><span class="line">touch tail2.log</span><br><span class="line">[root@hadoop001 ~]# echo "5" &gt;&gt; tail1.log</span><br><span class="line">[root@hadoop001 ~]# echo "5" &gt;&gt; tail2.log</span><br><span class="line"></span><br><span class="line">[root@hadoop001 ~]# tail -f tail1.log </span><br><span class="line">123</span><br><span class="line">4</span><br><span class="line"></span><br><span class="line">[root@hadoop001 ~]# tail -F tail2.log </span><br><span class="line">123</span><br><span class="line">4</span><br><span class="line">tail: `tail2.log' has become inaccessible: No such file or directory</span><br><span class="line">tail: `tail2.log' has appeared;  following end of new file</span><br><span class="line">5</span><br></pre></td></tr></table></figure>
<p><strong>说明-f 不够强大 文件只要被移走 就算新的一模一样 也不会实时监控<br>反之-F 强大 实时监控</strong><br>查看倒数50行 <code>tail -50f xxx.log</code></p>
<h4 id="13-alias-别名"><a href="#13-alias-别名" class="headerlink" title="13. alias 别名"></a>13. alias 别名</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 ~]# alias rd='cd /root/data'</span><br><span class="line">[root@hadoop001 ~]# </span><br><span class="line">[root@hadoop001 ~]# rd</span><br><span class="line">[root@hadoop001 ~]# pwd</span><br><span class="line">/root/data</span><br></pre></td></tr></table></figure>
<p><strong>注意：</strong><br>在另外一个会话窗口 rd命令找不到:<br>我们设置别名时为 当前session生效  为临时</p>
<p>如何做全局:环境变量里面设置</p>
<h5 id="14-全局环境变量和个人环境变量"><a href="#14-全局环境变量和个人环境变量" class="headerlink" title="14. 全局环境变量和个人环境变量"></a>14. 全局环境变量和个人环境变量</h5><ul>
<li>全局: 意味着所有人都可以使用<br><code>/etc/profile</code><br><code>source /etc/profile</code> </li>
</ul>
<p>其他用户也可以使用，只不过我们当前抛错,为权限错误</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 ~]# su - jepson</span><br><span class="line">[jepson@hadoop001 ~]$ rd</span><br><span class="line">-bash: cd: /root/ruozedata: Permission denied</span><br></pre></td></tr></table></figure>

<ul>
<li><p>个人:<br><code>~/.bash_profile</code><br><code>~/.bashrc</code><br>2种生效:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 ~]# source .bash_profile </span><br><span class="line">[root@hadoop001 ~]# . .bash_profile</span><br><span class="line">``` </span><br><span class="line">**未来习惯用哪个就哪个，</span><br><span class="line">但是不要忘记另外的存在，关键时要去看一下**</span><br><span class="line"></span><br><span class="line">*vi 文件时 拷贝内容必须为insert模式，否则可能会丢失复制信息*</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">### 14. rm 删除</span></span></span><br><span class="line">`rm data.log  `   文件 询问</span><br><span class="line">`rm -f tail1.log` 文件 不询问</span><br><span class="line">`rm -rf 6 `       文件夹 不询问</span><br><span class="line"></span><br><span class="line">**`rm -rf /` 生产上致命的，这个命令慎用**</span><br><span class="line"></span><br><span class="line">写shell脚本</span><br><span class="line">`xxxpath=/root/data`</span><br><span class="line">* =前后不能有空格</span><br><span class="line">* 赋值时不需要$,使用时需要$</span><br><span class="line"></span><br><span class="line">逻辑再赋值 有可能 xxxpath=</span><br><span class="line">`rm -rf $xxxpath/*`  ==&gt; `rm -rf /* `</span><br><span class="line">`rm -rf $&#123;xxxpath&#125;`</span><br><span class="line">`rm -rf xxxpath`</span><br><span class="line"></span><br><span class="line">**规避: 生产上凡是碰见rm -rf强制删除文件夹的 ，路径一定先判断存在不，不存在 就skip；就存在就rm**</span><br><span class="line"></span><br><span class="line">*怎么样逃避责任？*</span><br><span class="line">常规的链接</span><br><span class="line">* vpn 不会记录命令操作记录</span><br><span class="line">    history -c命令清空 同时删除家目录的.bash_history</span><br><span class="line">* 堡垒机 记录命令操作记录</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">### 15. history</span></span></span><br><span class="line">查看所有已经执行的命令</span><br><span class="line">`!5` 执行第五行已经执行的命令</span><br><span class="line"></span><br><span class="line">**补充: 当拿到1个已经存在的工作集群，通过history查看历史记录,帮助自己快速了解当前的集群环境**</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">### 16. 用户/用户组的常用命令</span></span></span><br><span class="line"></span><br><span class="line">1）用户</span><br><span class="line">```shell</span><br><span class="line">[root@hadoop001 ~]# ll /usr/sbin/user*</span><br><span class="line">-rwxr-x---. 1 root root 103096 Dec  8  2011 /usr/sbin/useradd</span><br><span class="line">-rwxr-x---. 1 root root  69560 Dec  8  2011 /usr/sbin/userdel</span><br><span class="line">-rws--x--x. 1 root root  42384 Aug 23  2010 /usr/sbin/userhelper</span><br><span class="line">-rwxr-x---. 1 root root  98680 Dec  8  2011 /usr/sbin/usermod</span><br><span class="line">-rwsr-xr-x. 1 root root   9000 Nov 23  2013 /usr/sbin/usernetctl</span><br></pre></td></tr></table></figure>
</li>
<li><p>添加用户 <code>useradd ruoze</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 ~]# id ruoze</span><br><span class="line">uid=501(ruoze) gid=501(ruoze) groups=501(ruoze)</span><br><span class="line">	用户名称	      主组             所有组</span><br><span class="line">[root@hadoop001 ~]# ll /home/ruoze</span><br><span class="line">total 0</span><br><span class="line">[root@hadoop001 ~]# ll -a /home/ruoze</span><br><span class="line">total 28</span><br><span class="line">drwx------. 4 ruoze ruoze 4096 Jun 16 21:16 .</span><br><span class="line">drwxr-xr-x. 4 root  root  4096 Jun 16 21:16 ..</span><br><span class="line">-rw-r--r--. 1 ruoze ruoze   18 Jul 18  2013 .bash_logout</span><br><span class="line">-rw-r--r--. 1 ruoze ruoze  176 Jul 18  2013 .bash_profile</span><br><span class="line">-rw-r--r--. 1 ruoze ruoze  124 Jul 18  2013 .bashrc</span><br><span class="line">drwxr-xr-x. 2 ruoze ruoze 4096 Nov 12  2010 .gnome2</span><br><span class="line">drwxr-xr-x. 4 ruoze ruoze 4096 Jun 13 04:10 .mozilla</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong>记录在哪？</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 ~]# cat /etc/passwd</span><br><span class="line">ruoze:x:501:501::/home/ruoze:/bin/bash</span><br><span class="line"></span><br><span class="line">[root@hadoop001 ~]# cat /etc/group</span><br><span class="line">ruoze:x:501:</span><br></pre></td></tr></table></figure>
<ul>
<li><p>删除用户 <code>userdel ruoze</code><br>删除用户，会把passwd记录删除；同时假如该组没有其他用户，则删除该组<br>但是<strong>家目录还在</strong>,但是<strong>用户和用户组发生变革</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 ~]# ll /home/</span><br><span class="line">total 8</span><br><span class="line">drwx------. 4 jepson jepson 4096 Jun 16 20:55 jepson</span><br><span class="line">drwx------. 4    501    501 4096 Jun 16 21:16 ruoze</span><br><span class="line">`</span><br></pre></td></tr></table></figure>
</li>
<li><p>再次创建 </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 ~]# useradd ruoze</span><br><span class="line">useradd: warning: the home directory already exists.</span><br><span class="line">Not copying any file from skel directory into it.</span><br><span class="line">Creating mailbox file: File exists</span><br></pre></td></tr></table></figure>
<p>skel directory: <code>.bash*</code>所有的隐藏文件</p>
</li>
</ul>
<p>删除ruoze用户，切换到ruoze，会出现 <code>-bash-4.1$</code><br><strong>解决方法：恢复</strong><br><code>rm -rf /home/ruoze/.bash*</code><br><code>cp /etc/skel/.* /home/ruoze</code><br><code>chown ruoze:ruoze /etc/skel/.*</code><br>影响用户操作时的格式 </p>
<p>2）用户组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 ~]# ll &#x2F;usr&#x2F;sbin&#x2F;group*</span><br><span class="line">-rwxr-x---. 1 root root 54968 Dec  8  2011 &#x2F;usr&#x2F;sbin&#x2F;groupadd</span><br><span class="line">-rwxr-x---. 1 root root 46512 Dec  8  2011 &#x2F;usr&#x2F;sbin&#x2F;groupdel</span><br><span class="line">-rwxr-x---. 1 root root 50800 Dec  8  2011 &#x2F;usr&#x2F;sbin&#x2F;groupmems</span><br><span class="line">-rwxr-x---. 1 root root 61360 Dec  8  2011 &#x2F;usr&#x2F;sbin&#x2F;groupmod</span><br></pre></td></tr></table></figure>
<p><strong>一个人可以多个用户组 但是必须有一个主组</strong></p>
<ul>
<li>创建用户组 groupadd <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 ~]# groupadd bigdata</span><br><span class="line">[root@hadoop001 ~]# id ruoze</span><br><span class="line">uid=501(ruoze) gid=501(ruoze) groups=501(ruoze)</span><br></pre></td></tr></table></figure></li>
<li>添加用户组新成员为ruoze<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 ~]# usermod -a -G bigdata ruoze</span><br><span class="line">[root@hadoop001 ~]# id ruoze</span><br><span class="line">uid=501(ruoze) gid=501(ruoze) groups=501(ruoze),502(bigdata)</span><br></pre></td></tr></table></figure></li>
<li>修改bigdata为主组<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 ~]# usermod -g bigdata ruoze</span><br><span class="line">[root@hadoop001 ~]# id ruoze</span><br><span class="line">uid=501(ruoze) gid=502(bigdata) groups=502(bigdata) </span><br><span class="line">[root@hadoop001 ~]# usermod -a -G ruoze ruoze</span><br><span class="line">[root@hadoop001 ~]# id ruoze</span><br><span class="line">uid=501(ruoze) gid=502(bigdata) groups=502(bigdata),501(ruoze)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong>补充: CDH</strong><br>组件 账户密码登陆不上或者切换不了用户  </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/passwd</span><br><span class="line">ruoze:x:501:502::/home/ruoze:/bin/false </span><br><span class="line">ruoze:x:501:502::/home/ruoze:/sbin/nologin</span><br><span class="line">这两个是造成不可以登录切换原因</span><br></pre></td></tr></table></figure>
<p>修改成<br><code>ruoze:x:501:502::/home/ruoze:/sbin/bin/bash</code> 可以切换</p>
<ul>
<li>修改家目录:<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">usermod -d /home/ruoze2  ruoze 修改家目录</span><br><span class="line">vi /etc/passwd   修改为bin/bash</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="17-设置passwd"><a href="#17-设置passwd" class="headerlink" title="17. 设置passwd"></a>17. 设置passwd</h4><p><code>passwd ruoze</code></p>
<h4 id="18-切换用户"><a href="#18-切换用户" class="headerlink" title="18.切换用户"></a>18.切换用户</h4><ul>
<li>su hadoop</li>
<li>su - hadoop</li>
<li><em>切换用户且切到该用户的家目录，且执行环境变量文件生效*</em></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 ~]# pwd</span><br><span class="line">/root</span><br><span class="line">[root@hadoop001 ~]# su hadoop</span><br><span class="line">[hadoop@hadoop001 root]$ pwd</span><br><span class="line">/root</span><br><span class="line">[hadoop@hadoop001 root]$ exit</span><br><span class="line">exit</span><br><span class="line">[root@hadoop001 ~]# </span><br><span class="line">[root@hadoop001 ~]# su - hadoop</span><br><span class="line">[hadoop@hadoop001 ~]$ </span><br><span class="line">[hadoop@hadoop001 ~]$ pwd</span><br><span class="line">/home/hadoop</span><br></pre></td></tr></table></figure>

<h5 id="19-sudo权限"><a href="#19-sudo权限" class="headerlink" title="19. sudo权限"></a>19. sudo权限</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/sudoers</span><br><span class="line">hadoop  ALL=(root)      NOPASSWD:ALL</span><br><span class="line">（给用户hadoop sudo权限）</span><br></pre></td></tr></table></figure>
<p>工作不可能给root账号的，要拥有sudo权限且不输入密码的普通用户（牵扯到部署环境）</p>
<h5 id="20-进程和端口号"><a href="#20-进程和端口号" class="headerlink" title="20. 进程和端口号"></a>20. 进程和端口号</h5><ul>
<li>ps -ef：把所有的进程打印出来<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 ~]# ps -ef | grep tail  （tail的进程）</span><br><span class="line">root      2048  1962  0 21:11 pts/1    00:00:00 tail -F tail.log</span><br><span class="line">root      2053  1835  0 21:12 pts/0    00:00:00 grep tail</span><br><span class="line">[root@hadoop001 ~]# ps -ef|grep tail | grep -v grep （tail的进程排除grep tail）</span><br><span class="line">root      2048  1962  0 21:11 pts/1    00:00:00 tail -F tail.log</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root      2053  1835  0 21:12 pts&#x2F;0    00:00:00 grep tail</span><br><span class="line">进程用户    pid  父pid                   进程的内容</span><br></pre></td></tr></table></figure></li>
<li>杀死进程:<br><code>kill -9 pid</code></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 ~]# ps -ef|grep tail</span><br><span class="line">root      2095  1962  0 21:17 pts/1    00:00:00 tail -F tail.log</span><br><span class="line">root      2098  2075  0 21:17 pts/2    00:00:00 tail -F tail1.log1</span><br><span class="line">root      2101  1835  0 21:17 pts/0    00:00:00 grep tail</span><br><span class="line">[root@hadoop001 ~]# kill -9 2095 2098  （同时杀死多个进程）</span><br><span class="line">[root@hadoop001 ~]# kill -9 $(pgrep -f tail)  （几十个进程一起杀）</span><br></pre></td></tr></table></figure>
<p><strong>提醒: 生产上假如非要执行kill杀进程，一定要确认清楚</strong><br><code>1.该进程是否真的杀？需求确认清楚</code><br><code>2.杀的进程是否你想要杀</code></p>
<ul>
<li>netstat端口号：<code>netstat -nlp</code></li>
</ul>
<p>找到ssh的进程的pid 1460，再通过pid找到该进程的端口号 22</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 ~]# ps -ef|grep ssh</span><br><span class="line">root      1460     1  0 20:17 ?        00:00:00 /usr/sbin/sshd</span><br><span class="line">root      1831  1460  0 20:22 ?        00:00:00 sshd: root@pts/0,pts/1,pts/2</span><br><span class="line">root      2364  1835  0 21:22 pts/0    00:00:00 grep ssh</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 ~]# netstat -nlp|grep 1460</span><br><span class="line">tcp        0      0 0.0.0.0:22                  0.0.0.0:*                   LISTEN      1460/sshd           </span><br><span class="line">tcp        0      0 :::22                       :::*                        LISTEN      1460/sshd  </span><br><span class="line">```         </span><br><span class="line">```shell</span><br><span class="line">[root@hadoop001 ~]# netstat -nlp|grep ssh  （也可以找到端口号，但是内容过多）</span><br><span class="line">tcp        0      0 0.0.0.0:22                  0.0.0.0:*                   LISTEN      1460/sshd           </span><br><span class="line">tcp        0      0 127.0.0.1:6010              0.0.0.0:*                   LISTEN      1831/sshd           </span><br><span class="line">tcp        0      0 127.0.0.1:6011              0.0.0.0:*                   LISTEN      1831/sshd           </span><br><span class="line">tcp        0      0 127.0.0.1:6012              0.0.0.0:*                   LISTEN      1831/sshd           </span><br><span class="line">tcp        0      0 :::22                       :::*                        LISTEN      1460/sshd           </span><br><span class="line">tcp        0      0 ::1:6010                    :::*                        LISTEN      1831/sshd           </span><br><span class="line">tcp        0      0 ::1:6011                    :::*                        LISTEN      1831/sshd           </span><br><span class="line">tcp        0      0 ::1:6012                    :::*                        LISTEN      1831/sshd</span><br></pre></td></tr></table></figure>

<p><strong>某个服务的web</strong><br><em>正常流程：进程名称 –&gt; pid –&gt; port</em><br><code>1.port是否正确 是否变更</code><br><code>2.案例</code> </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 ~]# ps -ef|grep http （http 所有的进程）</span><br><span class="line">[root@hadoop001 ~]# netstat -nlp|grep httpd</span><br><span class="line">tcp        0      0 :::80                       :::*                        LISTEN      2425/httpd  </span><br><span class="line">注意：80端口号可以省略，默认的访问  </span><br><span class="line">```     </span><br><span class="line">`3.端口号对外服务的ip地址，假如为127.0.0.1或localhost,只能在这台的机器上访问这个服务。一般这个地址为机器的ip或0.0.0.0 或 :::，表示对外的任意ip可以服务。`</span><br><span class="line"></span><br><span class="line">```shell</span><br><span class="line">[root@hadoop001 ~]# ping 127.0.0.1    (ping 看网络通不通)</span><br><span class="line">PING 127.0.0.1 (127.0.0.1) 56(84) bytes of data.</span><br><span class="line">64 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.024 ms</span><br><span class="line">64 bytes from 127.0.0.1: icmp_seq=2 ttl=64 time=0.028 ms</span><br><span class="line">64 bytes from 127.0.0.1: icmp_seq=3 ttl=64 time=0.024 ms</span><br></pre></td></tr></table></figure>

<h4 id="21-find搜索"><a href="#21-find搜索" class="headerlink" title="21. find搜索"></a>21. find搜索</h4><ul>
<li><p><code>find / -name &#39;tail&#39;</code> 查找tail名称，全局匹配</p>
</li>
<li><p><code>find / -name &#39;*tail*&#39;</code> 查找包括tail，模糊匹配<br>以下都可以找到：abtail，abtailc，tailc</p>
</li>
<li><p><code>find /root -name &#39;*tail*&#39;</code> 特定目录，减少搜索范围，增加搜索效率</p>
</li>
<li><p><code>history | grep tail</code> 搜索有没有tail命令</p>
</li>
<li><p><code>ps -ef|grep tail</code>     搜索tail的进程</p>
</li>
</ul>
<h4 id="22-安装卸载"><a href="#22-安装卸载" class="headerlink" title="22. 安装卸载"></a>22. 安装卸载</h4><ul>
<li>yum安装<br><code>yum search httpd</code> 搜索安装的镜像语言<br><code>yum install httpd</code><br><code>yum install -y httpd</code> -y参数可以安装不用输入yes or no</li>
</ul>
<p><code>yum uninstall xxx</code> 错误的，不是卸载 <code>yum remove xxx</code>卸载</p>
<ul>
<li>rpm卸载<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 ~]# service httpd stop</span><br><span class="line">Stopping httpd:                                            [  OK  ]</span><br><span class="line">[root@hadoop001 ~]# yum remove mysql （有个问题可能会卸载我们需要的）</span><br><span class="line">[root@haizhu ~]# rpm -qa|grep mysql （查找出安装的mysql）</span><br><span class="line">mysql-8.0.26-1.module_el8.4.0+915+de215114.x86_64</span><br><span class="line">mysql-server-8.0.26-1.module_el8.4.0+915+de215114.x86_64</span><br><span class="line">mysql-common-8.0.26-1.module_el8.4.0+915+de215114.x86_64</span><br><span class="line">mysql-errmsg-8.0.26-1.module_el8.4.0+915+de215114.x86_64</span><br><span class="line">[root@hadoop001 ~]# rpm -e mysql-5.1.73-8.el6_8.x86_64 （卸载具体的安装）</span><br><span class="line"></span><br><span class="line">不校验依赖性</span><br><span class="line">--nodeps     do not verify package dependencies</span><br><span class="line">[root@hadoop001 ~]# rpm -e --nodeps httpd-2.2.15-69.el6.centos.x86_64 （不校验依赖性直接卸载）</span><br></pre></td></tr></table></figure>
<h4 id="23-which"><a href="#23-which" class="headerlink" title="23. which"></a>23. which</h4><code>$PATH</code> 找到所有命令<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 ~]# echo $PATH</span><br><span class="line">/usr/lib64/qt-3.3/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin</span><br><span class="line"></span><br><span class="line">[root@hadoop001 ~]# which ls</span><br><span class="line">alias ls='ls --color=auto'</span><br><span class="line">	/bin/ls</span><br><span class="line">	</span><br><span class="line">[root@hadoop001 ~]# whereis ls</span><br><span class="line">ls: /bin/ls /usr/share/man/man1p/ls.1p.gz /usr/share/man/man1/ls.1.gz</span><br><span class="line">[root@hadoop001 ~]# which ls</span><br><span class="line">alias ls='ls --color=auto'</span><br><span class="line">	/bin/ls</span><br><span class="line">[root@hadoop001 ~]# cd /usr/lib64/qt-3.3/bin</span><br><span class="line">[root@hadoop001 bin]# ll</span><br><span class="line">total 4</span><br><span class="line">-rw-r--r--. 1 root root 4 Jun 19 22:22 ls</span><br><span class="line">[root@hadoop001 bin]# vi ls</span><br><span class="line">[root@hadoop001 bin]# chmod +x ls</span><br><span class="line">[root@hadoop001 bin]# which ls</span><br><span class="line">alias ls='ls --color=auto'</span><br><span class="line">	/usr/lib64/qt-3.3/bin/ls </span><br><span class="line">[root@hadoop001 bin]# ls</span><br><span class="line">ls</span><br><span class="line">[root@hadoop001 bin]# rm -f ls</span><br><span class="line">[root@hadoop001 bin]# which ls</span><br><span class="line">alias ls='ls --color=auto'</span><br><span class="line">	/bin/ls</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>例子：jdk环境部署</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 bin]# yum install lrzsz   （安装rzsz命令）</span><br><span class="line">[root@hadoop001 ~]# tar -xzvf jdk-8u45-linux-x64.gz  -C /usr/java/</span><br><span class="line">[root@hadoop001 ~]# cd /usr/java/</span><br><span class="line">[root@hadoop001 java]# ll</span><br><span class="line">total 4</span><br><span class="line">drwxr-xr-x. 8 uucp 143 4096 Apr 11  2015 jdk1.8.0_45</span><br><span class="line">[root@hadoop001 java]#</span><br></pre></td></tr></table></figure>

<p><code>1.java目录必须在/usr/java</code><br><code>2.用户用户组发生变更 必须修正</code><br><code>chown -R root:root  /usr/java/jdk1.8.0_45</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 java]# ll</span><br><span class="line">total 4</span><br><span class="line">drwxr-xr-x. 8 root root 4096 Apr 11  2015 jdk1.8.0_45</span><br><span class="line">[root@hadoop001 java]#</span><br></pre></td></tr></table></figure>
<p><code>3.配置全局环境变量</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 ~]# echo $PATH</span><br><span class="line">/usr/java/jdk1.8.0_45/bin:/usr/lib64/qt-3.3/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin</span><br><span class="line">[root@hadoop001 ~]#</span><br></pre></td></tr></table></figure>

<h4 id="24-IP-访问和连接"><a href="#24-IP-访问和连接" class="headerlink" title="24.IP 访问和连接"></a>24.IP 访问和连接</h4><ul>
<li>IP连接<br><code>window: ipconfig</code><br><code>linux:  ifconfig</code></li>
</ul>
<p>服务对外 <code>ip:port</code> 访问的地址<br>有可能抛错误及解决方法:<br><code>1.timeout 超时</code><br>    <code>ping ip/hostname</code><br><code>2.connection refused 拒绝</code><br>    <code>telnet ip port</code> 注意没有冒号</p>
<p>Linux：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 ~]# yum install -y telnet</span><br><span class="line">Loaded plugins: fastestmirror, refresh-packagekit, security</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: mirrors.aliyun.com</span><br><span class="line"> * extras: mirrors.aliyun.com</span><br><span class="line"> * updates: mirrors.aliyun.com</span><br><span class="line">Downloading Packages:</span><br><span class="line">telnet-0.17-48.el6.x86_64.rpm                      |  58 kB     00:00     </span><br><span class="line">Running rpm_check_debug</span><br><span class="line">Running Transaction Test</span><br><span class="line">Transaction Test Succeeded</span><br><span class="line">Running Transaction</span><br><span class="line">  Installing : 1:telnet-0.17-48.el6.x86_64                            1/1 </span><br><span class="line">  Verifying  : 1:telnet-0.17-48.el6.x86_64                            1/1 </span><br><span class="line"></span><br><span class="line">Installed:</span><br><span class="line">  telnet.x86_64 1:0.17-48.el6                                             </span><br><span class="line">Complete!</span><br><span class="line">[root@hadoop001 ~]# which telnet</span><br><span class="line">/usr/bin/telnet</span><br><span class="line">[root@hadoop001 ~]# telnet 192.168.137.130 80</span><br><span class="line">Trying 192.168.137.130...</span><br><span class="line">Connected to 192.168.137.130.</span><br><span class="line">Escape character is '^]'.</span><br><span class="line">^Z^C</span><br><span class="line">Connection closed by foreign host.</span><br><span class="line">[root@hadoop001 ~]# telnet 192.168.137.130 81</span><br><span class="line">Trying 192.168.137.130...</span><br><span class="line">telnet: connect to address 192.168.137.130: Connection refused</span><br></pre></td></tr></table></figure>

<ul>
<li>以hostname去连接</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 ~]# ping hadoop001</span><br><span class="line">ping: unknown host hadoop001  （unknown host映射关系没有配置）</span><br></pre></td></tr></table></figure>
<p>配置本地映射：IP hostname<br><code>linux :  /etc/hosts</code><br><code>window:  C:\Windows\System32\drivers\etc\hosts</code><br><code>\etc\hosts</code>直接添加<code>192.168.3.200 hadoop000</code></p>
<p><strong>注意：liunx前面的2行不要删，没有权限修改，直接复制一份桌面上，修改后拖拽覆盖即可</strong></p>
<ul>
<li><code>rz/sz</code>命令</li>
</ul>
<p><code>rz</code>命令         选择window的文件 传输<br><code>sz filename</code>命令将Linux的文件传输给window</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 bin]# yum install lrzsz</span><br></pre></td></tr></table></figure>

<h4 id="25-vi-vim基本使用"><a href="#25-vi-vim基本使用" class="headerlink" title="25. vi/vim基本使用"></a>25. vi/vim基本使用</h4><p>1）normal模式常用编辑<br><code>dd 删除当前行</code><br><code>dG 删除光标所在行及以下的所有行</code><br><code>ndd  删除光标所在行及以下的n-1行</code><br><code>gg 跳转到第一行的首字母</code><br><code>G 跳转到最后一行的首字母</code><br><code>shift+$  行尾</code><br><code>0  行首</code></p>
<p><strong><code>vi</code>清空这个文件:</strong></p>
<ul>
<li><code>gg+dG</code> 真正清空0字节 但是文件内容假如很大，加载肯定很慢 </li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo "" &gt; install.log  伪清空 1个字节</span><br><span class="line">echo '' &gt; install.log  伪清空 1个字节 </span><br><span class="line">-rw-r--r--. 1 root root         1 Jun 22 20:20 install.log</span><br></pre></td></tr></table></figure>
<ul>
<li><code>cat /dev/null &gt; install.log</code>  真正清空0字节</li>
</ul>
<p>2）搜索:<br><code>尾行模式（:模式） /xxx  按n向下  N向上</code></p>
<p>3）想要跳转到最后1行编辑<br><code>G shift+$ shift+a/i</code></p>
<h4 id="26-权限"><a href="#26-权限" class="headerlink" title="26.权限"></a>26.权限</h4><ul>
<li><code>chown</code>  改变用户 用户组</li>
<li><code>chmod</code>  改变读写执</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">drwxr-xr-x. 2 root root      4096 Jun 12 22:41 Downloads</span><br><span class="line">-rw-r--r--. 1 root root      1012 Jun 15 21:46 error.log</span><br><span class="line">第一位字母: d文件夹 -文件 l连接</span><br><span class="line"></span><br><span class="line">r 读4</span><br><span class="line">w 写2</span><br><span class="line">x 执行 1 shell脚本</span><br><span class="line">- 0 没有任何权限 （注意是后面的-）</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rwx r-x r-x</span><br><span class="line">第一组 rwx 7 代表文件和文件夹所属的 用户的权限: 读写执</span><br><span class="line">第二组 r-x 5 代表文件和文件夹所属的 用户组的权限: 读执</span><br><span class="line">第三组 r-x 5 代表其他组的所有用户对这个文件或文件夹权限: 读执</span><br></pre></td></tr></table></figure>
<p> <strong>第一个<code>root</code> 用户 ，第二个<code>root</code> 用户组</strong></p>
<ul>
<li><p>文件的操作：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">test.log  </span><br><span class="line">rw-r--r-- 644 有读写的权限</span><br><span class="line">chmod 444 test.log (修改权限去掉写的权限)</span><br><span class="line">-r-r--r--</span><br><span class="line">root用户不管怎么修改权限都可以读写，其他用户按照命令权限来</span><br><span class="line">chmod u+x date.sh  (给date.sh可以执行的权限，注意用u+，否则每个用户都有可执行权限)</span><br></pre></td></tr></table></figure>
</li>
<li><p>文件夹操作 -R参数<br><code>-R参数: chown chmod</code><br><code>777 代表所有人都有最大权限 读写执</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chown -R jepson:jepson data</span><br><span class="line">chmod -R 777  data</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">字母和数字切换学会自己看</span><br><span class="line">rwxrwxr-x  775</span><br><span class="line">645 rw-r--r-x</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><em>工作上:</em></p>
<ul>
<li>不会给你root 假如给你root 慎重</li>
<li>假如给你账号  有sudo权限，无密码认证  也要慎重 </li>
<li>假如给你账号  就是普通账号，且没有sudo权限，一般只在自己的家目录做事情 和可以去的文件夹和文件</li>
<li>一台服务器 不可能只运行1个服务 很多服务<br>比如 mysql 需要用对应的用户去运行 比如mysqladmin用户<br>比如 hdfs 用hadoop用户<br>你们的用户能不能 su - mysqladmin? 一般是可以切</li>
</ul>
<h4 id="27-软连接"><a href="#27-软连接" class="headerlink" title="27. 软连接"></a>27. 软连接</h4><p><strong>好处：环境变量中的路径使用软连接，版本升级不用修改环境变量，直接删除在创建新的软连接</strong><br><code>ln -s hadoop-2.6.0 hadoop</code>创建软连接<br><code>rm -rf /opt/modouls/hadoop</code> 则是仅删除这个软链接，不会删除下面的内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[ruoze@hadoop001 ~]$ mkdir ruozedatav1.0</span><br><span class="line">[ruoze@hadoop001 ~]$ ll</span><br><span class="line">total 4</span><br><span class="line">drwxr-xr-x. 2 ruoze bigdata 4096 Jun 22 21:35 ruozedatav1.0</span><br><span class="line">[ruoze@hadoop001 ~]$ ln -s  ruozedatav1.0  rz</span><br><span class="line">[ruoze@hadoop001 ~]$ ll</span><br><span class="line">total 4</span><br><span class="line">drwxr-xr-x. 2 ruoze bigdata 4096 Jun 22 21:35 ruozedatav1.0</span><br><span class="line">lrwxrwxrwx. 1 ruoze bigdata   13 Jun 22 21:35 rz -&gt; ruozedatav1.0</span><br></pre></td></tr></table></figure>
<p><em>使用场景:</em></p>
<ul>
<li>多版本  版本升级，软连接可以减少代码修改和路径修改</li>
<li>硬盘<br><code>/home/ruoze/</code>  存储空间  100M 空间不够<br><code>/home/jepson/xxx</code> 存储空间  10T<br>把<code>/home/ruoze/</code> 移动到<code>/home/jepson/xxx</code><br><code>ln -s /home/jepson/xxx /home/ruoze/xxx</code></li>
<li><em>注意 ：所属的权限 用户 用户组的变化修正*</em></li>
</ul>
<h4 id="28-系统命令"><a href="#28-系统命令" class="headerlink" title="28. 系统命令"></a>28. 系统命令</h4><ul>
<li><p><code>df -h</code> 系统的磁盘</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 ~]# df -h </span><br><span class="line">Filesystem      Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/sda3        38G  3.9G   32G  11% /</span><br><span class="line">tmpfs          1000M   72K 1000M   1% /dev/shm</span><br><span class="line">/dev/sda1       194M   34M  151M  19% /boot</span><br><span class="line">/dev/sda3        2T  30G   999G  0.1% /data01 (额外挂载的盘)</span><br><span class="line">/dev/sda3        2T  30G   999G  0.1% /data02</span><br><span class="line">/dev/sda3        2T  30G   999G  0.1% /data03</span><br><span class="line">/dev/sda3        2T  30G   999G  0.1% /data04</span><br></pre></td></tr></table></figure></li>
<li><p><em>/ 根目录一般生产上 最多的是100G*</em></p>
</li>
<li><p><code>free -m</code> 内存</p>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@haizhu ~]# free -m</span><br><span class="line">              total        used        free      shared  buff/cache   available</span><br><span class="line">Mem:           7448        3033        2505           1        1909        4126</span><br><span class="line">Swap:             0           0           0</span><br></pre></td></tr></table></figure>
<ul>
<li><code>top</code><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">top - 12:25:32 up 2 days, 20:21,  1 user,  load average: 4.91, 5.02, 5.18</span><br><span class="line">Tasks: 117 total,   1 running, 116 sleeping,   0 stopped,   0 zombie</span><br><span class="line"><span class="meta">%</span><span class="bash">Cpu(s): 99.3 us,  0.1 sy,  0.0 ni,  0.0 id,  0.0 wa,  0.7 hi,  0.0 si,  0.0 st</span></span><br><span class="line">MiB Mem :   7448.1 total,   2 02.9 free,   3035.0 used,   1910.2 buff/cache</span><br><span class="line">MiB Swap:      0.0 total,      0.0 free,      0.0 used.   4124.8 avail Mem</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">load average: 0.00, 0.00, 0.00</span><br><span class="line">			1min  5min 15min</span><br><span class="line">生产上 &lt;&#x3D;10 表示 系统还行</span><br><span class="line">	&gt;10 系统负载高 就是卡  	有可能服务问题 </span><br><span class="line">	cpu负载</span><br><span class="line">	0-200之间  内存条损坏 物理 原因重启服务器起不来</span><br></pre></td></tr></table></figure></li>
<li><code>shutdown -n now</code> 立即关机</li>
<li><code>reboot</code> 重启  等1min  连接机器</li>
</ul>
<h4 id="29-解压压缩"><a href="#29-解压压缩" class="headerlink" title="29 .解压压缩"></a>29 .解压压缩</h4><ul>
<li><p><code>zip</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 ruozedata]# mkdir test</span><br><span class="line">[root@hadoop001 ruozedata]# cd test/</span><br><span class="line">[root@hadoop001 test]# touch 1.log</span><br><span class="line">[root@hadoop001 test]# cd ../</span><br><span class="line">[root@hadoop001 ruozedata]# ll</span><br><span class="line">total 4</span><br><span class="line">drwxr-xr-x. 2 root root 4096 Jun 22 22:11 test</span><br><span class="line"></span><br><span class="line">[root@hadoop001 ruozedata]# zip -r  test.zip test/*    （压缩）</span><br><span class="line"></span><br><span class="line">  adding: test/1.log (stored 0%)</span><br><span class="line">[root@hadoop001 ruozedata]# ll</span><br><span class="line">total 8</span><br><span class="line">drwxr-xr-x. 2 root root 4096 Jun 22 22:11 test</span><br><span class="line">-rw-r--r--. 1 root root  170 Jun 22 22:12 test.zip</span><br><span class="line">[root@hadoop001 ruozedata]# rm -rf test</span><br><span class="line">[root@hadoop001 ruozedata]# ll</span><br><span class="line">total 4</span><br><span class="line">-rw-r--r--. 1 root root 170 Jun 22 22:12 test.zip</span><br><span class="line"></span><br><span class="line">[root@hadoop001 ruozedata]# unzip test.zip   （解压）</span><br><span class="line">Archive:  test.zip</span><br><span class="line"> extracting: test/1.log              </span><br><span class="line">[root@hadoop001 ruozedata]# ll</span><br><span class="line">total 8</span><br><span class="line">drwxr-xr-x. 2 root root 4096 Jun 22 22:12 test</span><br><span class="line">-rw-r--r--. 1 root root  170 Jun 22 22:12 test.zip</span><br><span class="line">[root@hadoop001 ruozedata]# ll test</span><br><span class="line">total 0</span><br><span class="line">-rw-r--r--. 1 root root 0 Jun 22 22:11 1.log</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>tar.gz</code><br><code>tar -xzvf xxx.tar.gz -C /opt/moduls xxx.tar.gz解压到/opt/moduls目录</code>  解压<br><code>tar -czvf xxx.tar.gz test/*</code> 压缩</p>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 ruozedata]# ll</span><br><span class="line">total 8</span><br><span class="line">drwxr-xr-x. 2 root root 4096 Jun 22 22:12 test</span><br><span class="line">-rw-r--r--. 1 root root  170 Jun 22 22:12 test.zip</span><br><span class="line">[root@hadoop001 ruozedata]# tar -czvf test.tar.gz test/* </span><br><span class="line">test/1.log</span><br><span class="line">[root@hadoop001 ruozedata]# ll</span><br><span class="line">total 12</span><br><span class="line">drwxr-xr-x. 2 root root 4096 Jun 22 22:12 test</span><br><span class="line">-rw-r--r--. 1 root root  114 Jun 22 22:16 test.tar.gz</span><br><span class="line">-rw-r--r--. 1 root root  170 Jun 22 22:12 test.zip</span><br><span class="line">[root@hadoop001 ruozedata]# rm -rf test</span><br><span class="line">[root@hadoop001 ruozedata]# tar -xzvf test.tar.gz </span><br><span class="line">test/1.log</span><br></pre></td></tr></table></figure>

<h4 id="30-wget-下载"><a href="#30-wget-下载" class="headerlink" title="30. wget 下载"></a>30. wget 下载</h4><p><code>wget url</code>下载连接地址</p>
<h4 id="31-调度"><a href="#31-调度" class="headerlink" title="31. 调度"></a>31. 调度</h4><p><code>crontab</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 tmp]# crontab -e （新建crontab）</span><br><span class="line">[root@hadoop001 tmp]# crontab -l （查看crontab）</span><br><span class="line">* * * * * /tmp/date.sh &gt;&gt; /tmp/date.log </span><br><span class="line"></span><br><span class="line">分 小时 日 月 周</span><br><span class="line">* 表示 每</span><br></pre></td></tr></table></figure>
<ul>
<li>每隔2分钟<br><code>*/2 * * * *</code>（注意：<code>2/* 错误</code>）</li>
<li>每隔10s执行  <code>shell脚本 sleep 10s</code><br>1min 6次</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[root@hadoop001 tmp]# cat date.sh </span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">for((i=1;i&lt;=6;i++))</span><br><span class="line">do</span><br><span class="line">	echo "wwww.ruozedata.com"</span><br><span class="line">	date</span><br><span class="line">	sleep 10s</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">exit</span><br></pre></td></tr></table></figure>
<h4 id="32-后台执行"><a href="#32-后台执行" class="headerlink" title="32. 后台执行"></a>32. 后台执行</h4><p><code>./date.sh &amp;</code> 并不是真正后台执行  会话<br><code>nohup ./date.sh &amp;</code>  真正的后台执行</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 tmp]# cat  nohup.out</span><br><span class="line">www.ruozedata.com</span><br><span class="line">Sat Jun 22 22:44:13 CST 2019</span><br><span class="line">[root@hadoop001 tmp]#</span><br></pre></td></tr></table></figure>
<p><code>nohup ./date.sh &gt;&gt; /tmp/date.log 2&gt;&amp;1 &amp;</code> </p>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>海珠
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://shenhaizhu.github.io/2019/04/20/Linux%E5%91%BD%E4%BB%A4%E6%93%8D%E4%BD%9C/" title="Linux命令操作">https://shenhaizhu.github.io/2019/04/20/Linux命令操作/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/" rel="tag"># 大数据</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2013/04/20/hello-world-1/" rel="prev" title="hello 海珠">
      <i class="fa fa-chevron-left"></i> hello 海珠
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/04/20/word/" rel="next" title="hello">
      hello <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-pwd-查看当前光标所在的目录"><span class="nav-number">1.</span> <span class="nav-text">1. pwd 查看当前光标所在的目录</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-用户"><span class="nav-number">2.</span> <span class="nav-text">2. 用户</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-ls查看"><span class="nav-number">3.</span> <span class="nav-text">3. ls查看</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-cd切换目录"><span class="nav-number">4.</span> <span class="nav-text">4. cd切换目录</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#cd-home-切换到-home目录"><span class="nav-number">4.1.</span> <span class="nav-text">cd &#x2F;home : 切换到 &#x2F;home目录</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-路径"><span class="nav-number">5.</span> <span class="nav-text">5. 路径</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-clear-清空屏幕"><span class="nav-number">6.</span> <span class="nav-text">6.clear 清空屏幕</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-创建文件夹"><span class="nav-number">7.</span> <span class="nav-text">7. 创建文件夹</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-创建文件"><span class="nav-number">8.</span> <span class="nav-text">8.创建文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-cp拷贝"><span class="nav-number">9.</span> <span class="nav-text">9. cp拷贝</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#10-mv移动"><span class="nav-number">9.1.</span> <span class="nav-text">10. mv移动</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#11-命令帮助"><span class="nav-number">10.</span> <span class="nav-text">11. 命令帮助</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#12-查看文件内容-log定位"><span class="nav-number">11.</span> <span class="nav-text">12. 查看文件内容 log定位</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#13-alias-别名"><span class="nav-number">12.</span> <span class="nav-text">13. alias 别名</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#14-全局环境变量和个人环境变量"><span class="nav-number">12.1.</span> <span class="nav-text">14. 全局环境变量和个人环境变量</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#17-设置passwd"><span class="nav-number">13.</span> <span class="nav-text">17. 设置passwd</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#18-切换用户"><span class="nav-number">14.</span> <span class="nav-text">18.切换用户</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#19-sudo权限"><span class="nav-number">14.1.</span> <span class="nav-text">19. sudo权限</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#20-进程和端口号"><span class="nav-number">14.2.</span> <span class="nav-text">20. 进程和端口号</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#21-find搜索"><span class="nav-number">15.</span> <span class="nav-text">21. find搜索</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#22-安装卸载"><span class="nav-number">16.</span> <span class="nav-text">22. 安装卸载</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#23-which"><span class="nav-number">17.</span> <span class="nav-text">23. which</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#24-IP-访问和连接"><span class="nav-number">18.</span> <span class="nav-text">24.IP 访问和连接</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#25-vi-vim基本使用"><span class="nav-number">19.</span> <span class="nav-text">25. vi&#x2F;vim基本使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#26-权限"><span class="nav-number">20.</span> <span class="nav-text">26.权限</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#27-软连接"><span class="nav-number">21.</span> <span class="nav-text">27. 软连接</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#28-系统命令"><span class="nav-number">22.</span> <span class="nav-text">28. 系统命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#29-解压压缩"><span class="nav-number">23.</span> <span class="nav-text">29 .解压压缩</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#30-wget-下载"><span class="nav-number">24.</span> <span class="nav-text">30. wget 下载</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#31-调度"><span class="nav-number">25.</span> <span class="nav-text">31. 调度</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#32-后台执行"><span class="nav-number">26.</span> <span class="nav-text">32. 后台执行</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="海珠"
      src="/images/Wechat.jpeg">
  <p class="site-author-name" itemprop="name">海珠</p>
  <div class="site-description" itemprop="description">主要编程语言为 Java、SCala、Python、Sql，领域涵盖大数据、云计算、数据库</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">5</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/shenhaizhu/shenhaizhu.github.io" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;shenhaizhu&#x2F;shenhaizhu.github.io" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://mail.qq.com/" title="E-Mail → https:&#x2F;&#x2F;mail.qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2018 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">海珠</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">20k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">18 分钟</span>
</div>

        








      </div>
    </footer>
  </div>

  
  
  <script color='0,0,0' opacity='0.5' zIndex='-1' count='150' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
